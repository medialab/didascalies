!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/build/",r(r.s=7)}([function(e,t,r){var n=r(14),a=r(15),i="undefined"!=typeof Float64Array;function s(e,t){return e[0]-t[0]}function o(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(s);var n=new Array(r.length);for(e=0;e<n.length;++e)n[e]=r[e][1];return n}function u(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var a="generic"===e;if(-1===t){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(i)()}if(0===t){i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(a?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(a?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",i)(l[e][0])}i=["'use strict'"];var s=n(t),u=s.map(function(e){return"i"+e}),c="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),f=s.map(function(e){return"b"+e}).join(","),h=s.map(function(e){return"c"+e}).join(",");i.push("function "+r+"(a,"+f+","+h+",d){this.data=a","this.shape=["+f+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+r+"_order(){"),2===t?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),a?i.push("return this.data.set("+c+",v)}"):i.push("return this.data["+c+"]=v}"),i.push("proto.get=function "+r+"_get("+u.join(",")+"){"),a?i.push("return this.data.get("+c+")}"):i.push("return this.data["+c+"]}"),i.push("proto.index=function "+r+"_index(",u.join(),"){return "+c+"}"),i.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var p=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),d=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});i.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var m=0;m<t;++m)i.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");i.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(m=0;m<t;++m)i.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");i.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");var y=new Array(t),g=new Array(t);for(m=0;m<t;++m)y[m]="a[i"+m+"]",g[m]="b[i"+m+"]";i.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+y.join(",")+","+g.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(m=0;m<t;++m)i.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(l[e],o)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=function(e,t,r,n){if(void 0===e)return(0,l.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===r){r=new Array(s);for(var o=s-1,c=1;o>=0;--o)r[o]=c,c*=t[o]}if(void 0===n)for(n=0,o=0;o<s;++o)r[o]<0&&(n-=(t[o]-1)*r[o]);for(var f=function(e){if(a(e))return"buffer";if(i)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),h=l[f];h.length<=s+1;)h.push(u(f,h.length-1));return(0,h[s+1])(e,t,r,n)}},function(e,t,r){"use strict";var n=r(10),a=r(2),i=["args","body"],s=["pre","post","printCode","funcName","blockSize"];e.exports=function(e){for(var t in e)i.indexOf(t)<0&&s.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<i.length;++r)if(!e[i[r]])throw new Error("cwise: Missing argument: "+i[r]);return a({args:e.args,pre:n(e.pre||function(){}),body:n(e.body),post:n(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}},function(e,t,r){"use strict";var n=r(9);e.exports=function(e){var t=new function(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1};t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var i=r[a];if("array"===i||"object"==typeof i&&i.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===i)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===i){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===i){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof i||!i.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:i.array,offset:i.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,n(t)}},function(e,t,r){"use strict";var n=r(2),a={body:"",args:[],thisVars:[],localVars:[]};function i(e){if(!e)return a;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function s(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(function(e){return n({args:e.args,pre:i(e.pre),body:i(e.body),post:i(e.proc),funcName:e.funcName})}(e))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in o){var r=o[e];t[e]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:e}),t[e+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:e+"eq"}),t[e+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:e+"s"}),t[e+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:e+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in u){var r=u[e];t[e]=s({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:e}),t[e+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in l){var r=l[e];t[e]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:e}),t[e+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:e+"s"}),t[e+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:e+"eq"}),t[e+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var r=c[e];t[r]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),t[r+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var e=0;e<f.length;++e){var r=f[e];t[r]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),t[r+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),t[r+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),t[r+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var h=["atan2","pow"];!function(){for(var e=0;e<h.length;++e){var r=h[e];t[r+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),t[r+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),t[r+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),t[r+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),t.any=n({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=n({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=n({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.shape[0],a=(0,n.default)(new Float64Array(r*r),[r,r]);switch(t){case"euclidean":for(var i=0;i<r;i++)for(var c=i+1;c<r;c++){var f=s(e.pick(i,null),e.pick(c,null));a.set(i,c,f),a.set(c,i,f)}break;case"manhattan":for(i=0;i<r;i++)for(c=i+1;c<r;c++){f=o(e.pick(i,null),e.pick(c,null));a.set(i,c,f),a.set(c,i,f)}break;case"jaccard":for(i=0;i<r;i++)for(c=i+1;c<r;c++){f=u(e.pick(i,null),e.pick(c,null));a.set(i,c,f),a.set(c,i,f)}break;case"dice":for(i=0;i<r;i++)for(c=i+1;c<r;c++){f=l(e.pick(i,null),e.pick(c,null));a.set(i,c,f),a.set(c,i,f)}}return a};var n=i(r(0)),a=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.default)({args:["array","array"],pre:function(e,t){this.sum=0},body:function(e,t){var r=e-t;this.sum+=r*r},post:function(e,t){return Math.sqrt(this.sum)}}),o=(0,a.default)({args:["array","array"],pre:function(e,t){this.sum=0},body:function(e,t){this.sum+=Math.abs(e-t)},post:function(e,t){return this.sum}}),u=(0,a.default)({args:["array","array"],pre:function(e,t){this.tf=0,this.tt=0},body:function(e,t){var r=Math.round(e),n=Math.round(t);this.tf+=+(r!=n),this.tt+=+(1==r&&1==n)},post:function(e,t){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),l=(0,a.default)({args:["array","array"],pre:function(e,t){this.tf=0,this.tt=0},body:function(e,t){var r=Math.round(e),n=Math.round(t);this.tf+=+(r!=n),this.tt+=+(1==r&&1==n)},post:function(e,t){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});e.exports=t.default},function(e,t,r){"use strict";e.exports=function(e,t,r){return 0===e.length?e:t?(r||e.sort(t),function(e,t){for(var r=1,n=e.length,a=e[0],i=e[0],s=1;s<n;++s)if(i=a,t(a=e[s],i)){if(s===r){r++;continue}e[r++]=a}return e.length=r,e}(e,t)):(r||e.sort(),function(e){for(var t=1,r=e.length,n=e[0],a=e[0],i=1;i<r;++i,a=n)if(a=n,(n=e[i])!==a){if(i===t){t++;continue}e[t++]=n}return e.length=t,e}(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(13),s=m(r(0)),o=m(r(3)),u=m(r(16)),l=m(r(18)),c=m(r(1)),f=m(r(21)),h=m(r(4)),p=m(r(19)),d=m(r(20));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,Object.getPrototypeOf(t).call(this));return e=e||{},r.dim=e.dim||2,r.perplexity=e.perplexity||30,r.earlyExaggeration=e.earlyExaggeration||4,r.learningRate=e.learningRate||1e3,r.nIter=e.nIter||1e3,r.metric=e.metric||"euclidean",r.barneshut=e.barneshut||!1,r.inputData=null,r.outputEmbedding=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.EventEmitter),a(t,[{key:"init",value:function(e){var t=(e=e||{}).data||[],r=e.type||"dense";if("dense"===r)this.inputData=(0,u.default)(t);else{if("sparse"!==r)throw new Error("input data type must be dense or sparse");for(var n=[],a=1,i=function(e){var r=Math.max.apply(null,t.map(function(t){return t[e]}))+1;n.push(r),a*=r},o=0;o<t[0].length;o++)i(o);this.inputData=(0,s.default)(new Float64Array(a),n);var l=!0,c=!1,h=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m,g=p.value;(m=this.inputData).set.apply(m,y(g).concat([1]))}}catch(e){c=!0,h=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw h}}}this.outputEmbedding=(0,f.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,h.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,p.default)(this.distances,this.perplexity);var e=Number.MAX_VALUE,t=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),o.default.mulseq(this.P,this.earlyExaggeration);var r=this._gradDesc(t,50,.5,0,0),a=n(r,2);a[0],t=a[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var i=this._gradDesc(t+1,100,.8,0,0),s=n(i,2);s[0],t=s[1],this.emit("progressStatus","Final optimization with momentum 0.8"),o.default.divseq(this.P,this.earlyExaggeration);var u=this._gradDesc(t+1,this.nIter,.8,1e-6,1e-6),l=n(u,2);return e=l[0],t=l[1],this.emit("progressStatus","Optimization end"),[e,t]}},{key:"rerun",value:function(){this.outputEmbedding=(0,f.default)(this.inputData.shape[0],this.dim);var e=this.run(),t=n(e,2);return[t[0],t[1]]}},{key:"getOutput",value:function(){return(0,l.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var e=(0,s.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),t=(0,s.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),r=0;r<this.outputEmbedding.shape[1];r++){var n=o.default.sup(o.default.abs(t,this.outputEmbedding.pick(null,r)));o.default.divs(e.pick(null,r),this.outputEmbedding.pick(null,r),n)}return(0,l.default)(e)}},{key:"_gradDesc",value:function(e,t,r){for(var a=arguments.length<=3||void 0===arguments[3]?1e-6:arguments[3],i=arguments.length<=4||void 0===arguments[4]?1e-6:arguments[4],u=(0,s.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),l=new Float64Array(this.outputEmbedding.size),f=0;f<l.length;f++)l[f]=1;var h=(0,s.default)(l,this.outputEmbedding.shape),p=Number.MAX_VALUE,m=Number.MAX_VALUE,y=0,g=(0,c.default)({args:["array"],pre:function(e){this.sum=0},body:function(e){this.sum+=e*e},post:function(e){return Math.sqrt(this.sum)}}),v=(0,c.default)({args:["array","array","array"],body:function(e,t,r){t*r>=0?e+=.05:e*=.95,e=Math.max(e,.01)}}),b=void 0;for(b=e;b<t;b++){var _=(0,d.default)(this.outputEmbedding,this.P,this.alpha),w=n(_,2),k=w[0],S=w[1],x=Math.abs(k-p);p=k;var E=g(S);if(this.emit("progressIter",[b,p,E]),p<m)m=p,y=b;else if(b-y>30)break;if(a>=E)break;if(i>=x)break;v(h,u,S),o.default.muleq(S,h);var A=(0,s.default)(new Float64Array(S.size),S.shape);o.default.muls(A,S,this.learningRate),o.default.mulseq(u,r),o.default.subeq(u,A),o.default.addeq(this.outputEmbedding,u),this.emit("progressData",this.getOutputScaled())}return[p,b]}}]),t}();t.default=g,e.exports=t.default},function(e,t,r){"use strict";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(6);onmessage=function(e){console.info("TSNE worker: Message reçu du script principal"),console.time("tsne update");var t=function(e){console.info("starting to update tsne values");var t=e.data,r=new a({dim:2,perplexity:30,earlyExaggeration:1,learningRate:100,nIter:1e3,metric:"euclidean"});console.info("initing model",t.length),console.info("tsne update, estimated time %s ms",.15*Math.pow(t.length,2)),r.init({data:t,type:"dense"}),console.info("running model");var i=r.run(),s=n(i,2);s[0],s[1];return console.info("tsne: values updated"),r.getOutputScaled()}(e.data);console.timeEnd("tsne update"),console.info("TSNE worker: Renvoi d'un message au script principal"),postMessage(t)}},function(e,t,r){"use strict";var n=r(5);function a(e,t,r){var n,a,i=e.length,s=t.arrayArgs.length,o=t.indexArgs.length>0,u=[],l=[],c=0,f=0;for(n=0;n<i;++n)l.push(["i",n,"=0"].join(""));for(a=0;a<s;++a)for(n=0;n<i;++n)f=c,c=e[n],0===n?l.push(["d",a,"s",n,"=t",a,"p",c].join("")):l.push(["d",a,"s",n,"=(t",a,"p",c,"-s",f,"*t",a,"p",f,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),n=i-1;n>=0;--n)c=e[n],u.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(u.push(r),n=0;n<i;++n){for(f=c,c=e[n],a=0;a<s;++a)u.push(["p",a,"+=d",a,"s",n].join(""));o&&(n>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function i(e,t,r){for(var n=e.body,a=[],i=[],s=0;s<e.args.length;++s){var o=e.args[s];if(!(o.count<=0)){var u=new RegExp(o.name,"g"),l="",c=t.arrayArgs.indexOf(s);switch(t.argTypes[s]){case"offset":var f=t.offsetArgIndex.indexOf(s);c=t.offsetArgs[f].array,l="+q"+f;case"array":l="p"+c+l;var h="l"+s,p="a"+c;if(0===t.arrayBlockIndices[c])1===o.count?"generic"===r[c]?o.lvalue?(a.push(["var ",h,"=",p,".get(",l,")"].join("")),n=n.replace(u,h),i.push([p,".set(",l,",",h,")"].join(""))):n=n.replace(u,[p,".get(",l,")"].join("")):n=n.replace(u,[p,"[",l,"]"].join("")):"generic"===r[c]?(a.push(["var ",h,"=",p,".get(",l,")"].join("")),n=n.replace(u,h),o.lvalue&&i.push([p,".set(",l,",",h,")"].join(""))):(a.push(["var ",h,"=",p,"[",l,"]"].join("")),n=n.replace(u,h),o.lvalue&&i.push([p,"[",l,"]=",h].join("")));else{for(var d=[o.name],m=[l],y=0;y<Math.abs(t.arrayBlockIndices[c]);y++)d.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(y+1)+"*t"+c+"b"+y);if(u=new RegExp(d.join(""),"g"),l=m.join("+"),"generic"===r[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[p,"[",l,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(s));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[a.join("\n"),n,i.join("\n")].join("\n").trim()}e.exports=function(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,s=new Array(e.arrayArgs.length),o=new Array(e.arrayArgs.length),u=0;u<e.arrayArgs.length;++u)o[u]=t[2*u],s[u]=t[2*u+1];var l=[],c=[],f=[],h=[],p=[];for(u=0;u<e.arrayArgs.length;++u){e.arrayBlockIndices[u]<0?(f.push(0),h.push(r),l.push(r),c.push(r+e.arrayBlockIndices[u])):(f.push(e.arrayBlockIndices[u]),h.push(e.arrayBlockIndices[u]+r),l.push(0),c.push(e.arrayBlockIndices[u]));for(var d=[],m=0;m<s[u].length;m++)f[u]<=s[u][m]&&s[u][m]<h[u]&&d.push(s[u][m]-f[u]);p.push(d)}var y=["SS"],g=["'use strict'"],v=[];for(m=0;m<r;++m)v.push(["s",m,"=SS[",m,"]"].join(""));for(u=0;u<e.arrayArgs.length;++u){for(y.push("a"+u),y.push("t"+u),y.push("p"+u),m=0;m<r;++m)v.push(["t",u,"p",m,"=t",u,"[",f[u]+m,"]"].join(""));for(m=0;m<Math.abs(e.arrayBlockIndices[u]);++m)v.push(["t",u,"b",m,"=t",u,"[",l[u]+m,"]"].join(""))}for(u=0;u<e.scalarArgs.length;++u)y.push("Y"+u);if(e.shapeArgs.length>0&&v.push("shape=SS.slice(0)"),e.indexArgs.length>0){var b=new Array(r);for(u=0;u<r;++u)b[u]="0";v.push(["index=[",b.join(","),"]"].join(""))}for(u=0;u<e.offsetArgs.length;++u){var _=e.offsetArgs[u],w=[];for(m=0;m<_.offset.length;++m)0!==_.offset[m]&&(1===_.offset[m]?w.push(["t",_.array,"p",m].join("")):w.push([_.offset[m],"*t",_.array,"p",m].join("")));0===w.length?v.push("q"+u+"=0"):v.push(["q",u,"=",w.join("+")].join(""))}var k=n([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((v=v.concat(k)).length>0&&g.push("var "+v.join(",")),u=0;u<e.arrayArgs.length;++u)g.push("p"+u+"|=0");e.pre.body.length>3&&g.push(i(e.pre,e,o));var S=i(e.body,e,o),x=function(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}(p);x<r?g.push(function(e,t,r,n){for(var i=t.length,s=r.arrayArgs.length,o=r.blockSize,u=r.indexArgs.length>0,l=[],c=0;c<s;++c)l.push(["var offset",c,"=p",c].join(""));for(c=e;c<i;++c)l.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),l.push(["if(j",c,"<",o,"){"].join("")),l.push(["s",t[c],"=j",c].join("")),l.push(["j",c,"=0"].join("")),l.push(["}else{s",t[c],"=",o].join("")),l.push(["j",c,"-=",o,"}"].join("")),u&&l.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<s;++c){for(var f=["offset"+c],h=e;h<i;++h)f.push(["j",h,"*t",c,"p",t[h]].join(""));l.push(["p",c,"=(",f.join("+"),")"].join(""))}for(l.push(a(t,r,n)),c=e;c<i;++c)l.push("}");return l.join("\n")}(x,p[0],e,S)):g.push(a(p[0],e,S)),e.post.body.length>3&&g.push(i(e.post,e,o)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+g.join("\n")+"\n----------");var E=[e.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",x,function(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var a=e[n],i=a.match(/\d+/);i=i?i[0]:"",0===a.charAt(0)?t[n]="u"+a.charAt(1)+i:t[n]=a.charAt(0)+i,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}(o)].join("");return new Function(["function ",E,"(",y.join(","),"){",g.join("\n"),"} return ",E].join(""))()}},function(e,t,r){"use strict";var n=r(8);e.exports=function(e){var t=["'use strict'","var CACHED={}"],r=[],a=e.funcName+"_cwise_thunk";t.push(["return function ",a,"(",e.shimArgs.join(","),"){"].join(""));for(var i=[],s=[],o=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],c=0;c<e.arrayArgs.length;++c){var f=e.arrayArgs[c];r.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),s.push("t"+f),s.push("r"+f+".join()"),o.push("array"+f+".data"),o.push("array"+f+".stride"),o.push("array"+f+".offset|0"),c>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<e.scalarArgs.length;++c)o.push("scalar"+e.scalarArgs[c]);return r.push(["type=[",s.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",o.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}},function(e,t,r){"use strict";(function(t){var n=r(11),a=r(5),i=0;function s(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}e.exports=function(e){for(var r=["(",e,")()"].join(""),o=n.parse(r,{range:!0}),u="_inline_"+i+++"_",l=function(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),n=0;n<t.length;++n)r[n]=t[n].name;return r}(o),c=new Array(l.length),f=0;f<l.length;++f)c[f]=new s([u,"arg",f,"_"].join(""),!1,!1);for(var h=new Array(r.length),p=(f=0,r.length);f<p;++f)h[f]=r.charAt(f);var d=[],m=[];function y(e,t){for(var r=e.range[0],n=e.range[1],a=r+1;a<n;++a)h[a]="";h[r]=t}var g=1,v=2;return function e(r,n){if(r.parent=n,"MemberExpression"===r.type)r.computed?(e(r.object,r),e(r.property,r)):"ThisExpression"===r.object.type?y(r,function(e){var t="this_"+e.replace(/\_/g,"__");return m.push(t),t}(r.property.name)):e(r.object,r);else{if("ThisExpression"===r.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===r.type){var a=r.name,i=l.indexOf(a);if(i>=0){var s=c[i],o=function(e){return"AssignmentExpression"===e.parent.type&&e.parent.left===e?"="===e.parent.operator?g:g|v:"UpdateExpression"===e.parent.type?g|v:v}(r);o&g&&(s.lvalue=!0),o&v&&(s.rvalue=!0),++s.count,y(r,s.name)}else(function(e){if("eval"===e)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?e in window:void 0!==t?e in t:"undefined"!=typeof self&&e in self})(a)||y(r,function(e){var t=u+e.replace(/\_/g,"__");return d.push(t),t}(a))}else if("Literal"===r.type)"string"==typeof r.value&&y(r,function(e){return"'"+e.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}(r.value));else{if("WithStatement"===r.type)throw new Error("cwise-parser: with() statements not allowed");for(var f=Object.keys(r),h=0,p=f.length;h<p;++h)if("parent"!==f[h]){var b=r[f[h]];if(b)if(b instanceof Array)for(var _=0;_<b.length;++_)b[_]&&"string"==typeof b[_].type&&e(b[_],r);else"string"==typeof b.type&&e(b,r)}}}}(o.body[0].expression.callee.body,void 0),a(d),a(m),new function(e,t,r,n){this.body=e,this.args=t,this.thisVars=r,this.localVars=n}(function(e){return h.slice(e.range[0],e.range[1]).join("")}(o.body[0].expression.callee.body),c,m,d)}}).call(t,r(22))},function(e,t,r){var n,a,i;!function(r,s){"use strict";a=[t],void 0===(i="function"==typeof(n=s)?n.apply(t,a):n)||(e.exports=i)}(0,function(e){"use strict";var t,r,n,a,i,s,o,u,l,c,f,h,p,d,m,y,g,v;function b(e,t){if(!e)throw new Error("ASSERT: "+t)}function _(e){return e>=48&&e<=57}function w(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function k(e){return"01234567".indexOf(e)>=0}function S(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function x(e){return 10===e||13===e||8232===e||8233===e}function E(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&o.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function A(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&o.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function I(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function C(e){return"eval"===e||"arguments"===e}function j(e,t,r,n,a){var i;b("number"==typeof r,"Comment must have valid position"),g.lastCommentStart>=r||(g.lastCommentStart=r,i={type:e,value:t},v.range&&(i.range=[r,n]),v.loc&&(i.loc=a),v.comments.push(i),v.attachComment&&(v.leadingComments.push(i),v.trailingComments.push(i)))}function L(e){var t,r,n,a;for(t=f-e,r={start:{line:h,column:f-p-e}};f<d;)if(n=l.charCodeAt(f),++f,x(n))return v.comments&&(a=l.slice(t+e,f-1),r.end={line:h,column:f-p-1},j("Line",a,t,f-1,r)),13===n&&10===l.charCodeAt(f)&&++f,++h,void(p=f);v.comments&&(a=l.slice(t+e,f),r.end={line:h,column:f-p},j("Line",a,t,f,r))}function V(){var e,t,r,n;for(v.comments&&(e=f-2,t={start:{line:h,column:f-p-2}});f<d;)if(x(r=l.charCodeAt(f)))13===r&&10===l.charCodeAt(f+1)&&++f,++h,p=++f,f>=d&&K({},s.UnexpectedToken,"ILLEGAL");else if(42===r){if(47===l.charCodeAt(f+1))return++f,++f,void(v.comments&&(n=l.slice(e+2,f-2),t.end={line:h,column:f-p},j("Block",n,e,f,t)));++f}else++f;K({},s.UnexpectedToken,"ILLEGAL")}function N(){var e,t;for(t=0===f;f<d;)if(S(e=l.charCodeAt(f)))++f;else if(x(e))++f,13===e&&10===l.charCodeAt(f)&&++f,++h,p=f,t=!0;else if(47===e)if(47===(e=l.charCodeAt(f+1)))++f,++f,L(2),t=!0;else{if(42!==e)break;++f,++f,V()}else if(t&&45===e){if(45!==l.charCodeAt(f+1)||62!==l.charCodeAt(f+2))break;f+=3,L(3)}else{if(60!==e)break;if("!--"!==l.slice(f+1,f+4))break;++f,++f,++f,++f,L(4)}}function O(e){var t,r,n,a=0;for(r="u"===e?4:2,t=0;t<r;++t){if(!(f<d&&w(l[f])))return"";n=l[f++],a=16*a+"0123456789abcdef".indexOf(n.toLowerCase())}return String.fromCharCode(a)}function P(){var e,t;for(e=l.charCodeAt(f++),t=String.fromCharCode(e),92===e&&(117!==l.charCodeAt(f)&&K({},s.UnexpectedToken,"ILLEGAL"),++f,(e=O("u"))&&"\\"!==e&&E(e.charCodeAt(0))||K({},s.UnexpectedToken,"ILLEGAL"),t=e);f<d&&A(e=l.charCodeAt(f));)++f,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==l.charCodeAt(f)&&K({},s.UnexpectedToken,"ILLEGAL"),++f,(e=O("u"))&&"\\"!==e&&A(e.charCodeAt(0))||K({},s.UnexpectedToken,"ILLEGAL"),t+=e);return t}function M(){var e,r;return e=f,{type:1===(r=92===l.charCodeAt(f)?P():function(){var e,t;for(e=f++;f<d;){if(92===(t=l.charCodeAt(f)))return f=e,P();if(!A(t))break;++f}return l.slice(e,f)}()).length?t.Identifier:function(e){if(c&&I(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}(r)?t.Keyword:"null"===r?t.NullLiteral:"true"===r||"false"===r?t.BooleanLiteral:t.Identifier,value:r,lineNumber:h,lineStart:p,start:e,end:f}}function F(){var e,r,n,a,i=f,o=l.charCodeAt(f),u=l[f];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++f,v.tokenize&&(40===o?v.openParenToken=v.tokens.length:123===o&&(v.openCurlyToken=v.tokens.length)),{type:t.Punctuator,value:String.fromCharCode(o),lineNumber:h,lineStart:p,start:i,end:f};default:if(61===(e=l.charCodeAt(f+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return f+=2,{type:t.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(e),lineNumber:h,lineStart:p,start:i,end:f};case 33:case 61:return f+=2,61===l.charCodeAt(f)&&++f,{type:t.Punctuator,value:l.slice(i,f),lineNumber:h,lineStart:p,start:i,end:f}}}return">>>="===(a=l.substr(f,4))?(f+=4,{type:t.Punctuator,value:a,lineNumber:h,lineStart:p,start:i,end:f}):">>>"===(n=a.substr(0,3))||"<<="===n||">>="===n?(f+=3,{type:t.Punctuator,value:n,lineNumber:h,lineStart:p,start:i,end:f}):u===(r=n.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===r?(f+=2,{type:t.Punctuator,value:r,lineNumber:h,lineStart:p,start:i,end:f}):"<>=!+-*%&|^/".indexOf(u)>=0?(++f,{type:t.Punctuator,value:u,lineNumber:h,lineStart:p,start:i,end:f}):void K({},s.UnexpectedToken,"ILLEGAL")}function T(){var e,r,n;if(b(_((n=l[f]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),r=f,e="","."!==n){if(e=l[f++],n=l[f],"0"===e){if("x"===n||"X"===n)return++f,function(e){for(var r="";f<d&&w(l[f]);)r+=l[f++];return 0===r.length&&K({},s.UnexpectedToken,"ILLEGAL"),E(l.charCodeAt(f))&&K({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt("0x"+r,16),lineNumber:h,lineStart:p,start:e,end:f}}(r);if(k(n)&&function(){var e,t;for(e=f+1;e<d;++e){if("8"===(t=l[e])||"9"===t)return!1;if(!k(t))return!0}return!0}())return function(e){for(var r="0"+l[f++];f<d&&k(l[f]);)r+=l[f++];return(E(l.charCodeAt(f))||_(l.charCodeAt(f)))&&K({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt(r,8),octal:!0,lineNumber:h,lineStart:p,start:e,end:f}}(r)}for(;_(l.charCodeAt(f));)e+=l[f++];n=l[f]}if("."===n){for(e+=l[f++];_(l.charCodeAt(f));)e+=l[f++];n=l[f]}if("e"===n||"E"===n)if(e+=l[f++],"+"!==(n=l[f])&&"-"!==n||(e+=l[f++]),_(l.charCodeAt(f)))for(;_(l.charCodeAt(f));)e+=l[f++];else K({},s.UnexpectedToken,"ILLEGAL");return E(l.charCodeAt(f))&&K({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:h,lineStart:p,start:r,end:f}}function U(){var e,r,n,a;return y=null,N(),e=f,r=function(){var e,t,r,n;for(b("/"===(e=l[f]),"Regular expression literal must start with a slash"),t=l[f++],r=!1,n=!1;f<d;)if(t+=e=l[f++],"\\"===e)x((e=l[f++]).charCodeAt(0))&&K({},s.UnterminatedRegExp),t+=e;else if(x(e.charCodeAt(0)))K({},s.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){n=!0;break}"["===e&&(r=!0)}return n||K({},s.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,r,n;for(t="",r="";f<d&&A((e=l[f]).charCodeAt(0));)if(++f,"\\"===e&&f<d)if("u"===(e=l[f])){if(n=++f,e=O("u"))for(r+=e,t+="\\u";n<f;++n)t+=l[n];else f=n,r+="u",t+="\\u";H({},s.UnexpectedToken,"ILLEGAL")}else t+="\\",H({},s.UnexpectedToken,"ILLEGAL");else r+=e,t+=e;return{value:r,literal:t}}(),a=function(e,t){var r;try{r=new RegExp(e,t)}catch(e){K({},s.InvalidRegExp)}return r}(r.value,n.value),v.tokenize?{type:t.RegularExpression,value:a,lineNumber:h,lineStart:p,start:e,end:f}:{literal:r.literal+n.literal,value:a,start:e,end:f}}function R(){var e,t,r,n;return N(),e=f,t={start:{line:h,column:f-p}},r=U(),t.end={line:h,column:f-p},v.tokenize||(v.tokens.length>0&&(n=v.tokens[v.tokens.length-1]).range[0]===e&&"Punctuator"===n.type&&("/"!==n.value&&"/="!==n.value||v.tokens.pop()),v.tokens.push({type:"RegularExpression",value:r.literal,range:[e,f],loc:t})),r}function q(){var e;return N(),f>=d?{type:t.EOF,lineNumber:h,lineStart:p,start:f,end:f}:E(e=l.charCodeAt(f))?M():40===e||41===e||59===e?F():39===e||34===e?function(){var e,r,n,a,i,o,u,c,m="",y=!1;for(u=h,c=p,b("'"===(e=l[f])||'"'===e,"String literal must starts with a quote"),r=f,++f;f<d;){if((n=l[f++])===e){e="";break}if("\\"===n)if((n=l[f++])&&x(n.charCodeAt(0)))++h,"\r"===n&&"\n"===l[f]&&++f,p=f;else switch(n){case"u":case"x":o=f,(i=O(n))?m+=i:(f=o,m+=n);break;case"n":m+="\n";break;case"r":m+="\r";break;case"t":m+="\t";break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:k(n)?(0!==(a="01234567".indexOf(n))&&(y=!0),f<d&&k(l[f])&&(y=!0,a=8*a+"01234567".indexOf(l[f++]),"0123".indexOf(n)>=0&&f<d&&k(l[f])&&(a=8*a+"01234567".indexOf(l[f++]))),m+=String.fromCharCode(a)):m+=n}else{if(x(n.charCodeAt(0)))break;m+=n}}return""!==e&&K({},s.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:m,octal:y,startLineNumber:u,startLineStart:c,lineNumber:h,lineStart:p,start:r,end:f}}():46===e?_(l.charCodeAt(f+1))?T():F():_(e)?T():v.tokenize&&47===e?function(){var e,t;if(!(e=v.tokens[v.tokens.length-1]))return R();if("Punctuator"===e.type){if("]"===e.value)return F();if(")"===e.value)return!(t=v.tokens[v.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?F():R();if("}"===e.value){if(v.tokens[v.openCurlyToken-3]&&"Keyword"===v.tokens[v.openCurlyToken-3].type){if(!(t=v.tokens[v.openCurlyToken-4]))return F()}else{if(!v.tokens[v.openCurlyToken-4]||"Keyword"!==v.tokens[v.openCurlyToken-4].type)return F();if(!(t=v.tokens[v.openCurlyToken-5]))return R()}return n.indexOf(t.value)>=0?F():R()}return R()}return"Keyword"===e.type&&"this"!==e.value?R():F()}():F()}function D(){var e,n,a;return N(),e={start:{line:h,column:f-p}},n=q(),e.end={line:h,column:f-p},n.type!==t.EOF&&(a=l.slice(n.start,n.end),v.tokens.push({type:r[n.type],value:a,range:[n.start,n.end],loc:e})),n}function B(){var e;return f=(e=y).end,h=e.lineNumber,p=e.lineStart,y=void 0!==v.tokens?D():q(),f=e.end,h=e.lineNumber,p=e.lineStart,e}function z(){var e,t,r;e=f,t=h,r=p,y=void 0!==v.tokens?D():q(),f=e,h=t,p=r}function W(e,t){this.line=e,this.column=t}function G(){var e,t,r,n;return e=f,t=h,r=p,N(),n=h!==t,f=e,h=t,p=r,n}function K(e,t){var r,n=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,function(e,t){return b(t<n.length,"Message reference must be in range"),n[t]});throw"number"==typeof e.lineNumber?((r=new Error("Line "+e.lineNumber+": "+a)).index=e.start,r.lineNumber=e.lineNumber,r.column=e.start-p+1):((r=new Error("Line "+h+": "+a)).index=f,r.lineNumber=h,r.column=f-p+1),r.description=a,r}function H(){try{K.apply(null,arguments)}catch(e){if(!v.errors)throw e;v.errors.push(e)}}function $(e){if(e.type===t.EOF&&K(e,s.UnexpectedEOS),e.type===t.NumericLiteral&&K(e,s.UnexpectedNumber),e.type===t.StringLiteral&&K(e,s.UnexpectedString),e.type===t.Identifier&&K(e,s.UnexpectedIdentifier),e.type===t.Keyword){if(function(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(e.value))K(e,s.UnexpectedReserved);else if(c&&I(e.value))return void H(e,s.StrictReservedWord);K(e,s.UnexpectedToken,e.value)}K(e,s.UnexpectedToken,e.value)}function X(e){var r=B();r.type===t.Punctuator&&r.value===e||$(r)}function Y(e){var r=B();r.type===t.Keyword&&r.value===e||$(r)}function J(e){return y.type===t.Punctuator&&y.value===e}function Q(e){return y.type===t.Keyword&&y.value===e}function Z(){var e,r=f,n=h,a=p,i=y;if(59===l.charCodeAt(f)||J(";"))B();else{if(e=h,N(),h!==e)return f=r,h=n,p=a,void(y=i);y.type===t.EOF||J("}")||$(y)}}function ee(e){return e.type===a.Identifier||e.type===a.MemberExpression}function te(e,t){var r,n,a;return r=c,a=y,n=xe(),t&&c&&C(e[0].name)&&H(t,s.StrictParamName),c=r,m.markEnd(m.createFunctionExpression(null,e,[],n),a)}function re(){var e,r;return r=y,(e=B()).type===t.StringLiteral||e.type===t.NumericLiteral?(c&&e.octal&&H(e,s.StrictOctalLiteral),m.markEnd(m.createLiteral(e),r)):m.markEnd(m.createIdentifier(e.value),r)}function ne(){var e,r,n,a,i,o;return o=y,(e=y).type===t.Identifier?(n=re(),"get"!==e.value||J(":")?"set"!==e.value||J(":")?(X(":"),a=de(),m.markEnd(m.createProperty("init",n,a),o)):(r=re(),X("("),(e=y).type!==t.Identifier?(X(")"),H(e,s.UnexpectedToken,e.value),a=te([])):(i=[ge()],X(")"),a=te(i,e)),m.markEnd(m.createProperty("set",r,a),o)):(r=re(),X("("),X(")"),a=te([]),m.markEnd(m.createProperty("get",r,a),o))):e.type!==t.EOF&&e.type!==t.Punctuator?(r=re(),X(":"),a=de(),m.markEnd(m.createProperty("init",r,a),o)):void $(e)}function ae(){var e,r,n,o;if(J("("))return function(){var e;return X("("),e=me(),X(")"),e}();if(J("["))return function(){var e,t=[];for(e=y,X("[");!J("]");)J(",")?(B(),t.push(null)):(t.push(de()),J("]")||X(","));return B(),m.markEnd(m.createArrayExpression(t),e)}();if(J("{"))return function(){var e,t,r,n,o,u=[],l={},f=String;for(o=y,X("{");!J("}");)t=(e=ne()).key.type===a.Identifier?e.key.name:f(e.key.value),n="init"===e.kind?i.Data:"get"===e.kind?i.Get:i.Set,r="$"+t,Object.prototype.hasOwnProperty.call(l,r)?(l[r]===i.Data?c&&n===i.Data?H({},s.StrictDuplicateProperty):n!==i.Data&&H({},s.AccessorDataProperty):n===i.Data?H({},s.AccessorDataProperty):l[r]&n&&H({},s.AccessorGetSet),l[r]|=n):l[r]=n,u.push(e),J("}")||X(",");return X("}"),m.markEnd(m.createObjectExpression(u),o)}();if(e=y.type,o=y,e===t.Identifier)n=m.createIdentifier(B().value);else if(e===t.StringLiteral||e===t.NumericLiteral)c&&y.octal&&H(y,s.StrictOctalLiteral),n=m.createLiteral(B());else if(e===t.Keyword){if(Q("function"))return function(){var e,t,r,n,a,i,o,u,l=null,f=[];u=y,Y("function"),J("(")||(e=y,l=ge(),c?C(e.value)&&H(e,s.StrictFunctionName):C(e.value)?(r=e,n=s.StrictFunctionName):I(e.value)&&(r=e,n=s.StrictReservedWord));a=Ee(r),f=a.params,t=a.stricted,r=a.firstRestricted,a.message&&(n=a.message);o=c,i=xe(),c&&r&&K(r,n);c&&t&&H(t,n);return c=o,m.markEnd(m.createFunctionExpression(l,f,[],i),u)}();Q("this")?(B(),n=m.createThisExpression()):$(B())}else e===t.BooleanLiteral?((r=B()).value="true"===r.value,n=m.createLiteral(r)):e===t.NullLiteral?((r=B()).value=null,n=m.createLiteral(r)):J("/")||J("/=")?(n=void 0!==v.tokens?m.createLiteral(R()):m.createLiteral(U()),z()):$(B());return m.markEnd(n,o)}function ie(){var e=[];if(X("("),!J(")"))for(;f<d&&(e.push(de()),!J(")"));)X(",");return X(")"),e}function se(){var e,r;return r=y,function(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}(e=B())||$(e),m.markEnd(m.createIdentifier(e.value),r)}function oe(){return X("."),se()}function ue(){var e;return X("["),e=me(),X("]"),e}function le(){var e,t,r;return r=y,Y("new"),e=function(){var e,t,r;b(g.allowIn,"callee of new expression always allow in keyword."),r=y,e=Q("new")?le():ae();for(;J(".")||J("[");)J("[")?(t=ue(),e=m.createMemberExpression("[",e,t)):(t=oe(),e=m.createMemberExpression(".",e,t)),m.markEnd(e,r);return e}(),t=J("(")?ie():[],m.markEnd(m.createNewExpression(e,t),r)}function ce(){var e,r,n=y;return e=function(){var e,t,r,n,a=g.allowIn;for(n=y,g.allowIn=!0,e=Q("new")?le():ae();;){if(J("."))r=oe(),e=m.createMemberExpression(".",e,r);else if(J("("))t=ie(),e=m.createCallExpression(e,t);else{if(!J("["))break;r=ue(),e=m.createMemberExpression("[",e,r)}m.markEnd(e,n)}return g.allowIn=a,e}(),y.type===t.Punctuator&&(!J("++")&&!J("--")||G()||(c&&e.type===a.Identifier&&C(e.name)&&H({},s.StrictLHSPostfix),ee(e)||H({},s.InvalidLHSInAssignment),r=B(),e=m.markEnd(m.createPostfixExpression(r.value,e),n))),e}function fe(){var e,r,n;return y.type!==t.Punctuator&&y.type!==t.Keyword?r=ce():J("++")||J("--")?(n=y,e=B(),r=fe(),c&&r.type===a.Identifier&&C(r.name)&&H({},s.StrictLHSPrefix),ee(r)||H({},s.InvalidLHSInAssignment),r=m.createUnaryExpression(e.value,r),r=m.markEnd(r,n)):J("+")||J("-")||J("~")||J("!")?(n=y,e=B(),r=fe(),r=m.createUnaryExpression(e.value,r),r=m.markEnd(r,n)):Q("delete")||Q("void")||Q("typeof")?(n=y,e=B(),r=fe(),r=m.createUnaryExpression(e.value,r),r=m.markEnd(r,n),c&&"delete"===r.operator&&r.argument.type===a.Identifier&&H({},s.StrictDelete)):r=ce(),r}function he(e,r){var n=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=r?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function pe(){var e,t,r,n,a;return a=y,e=function(){var e,t,r,n,a,i,s,o,u,l;if(e=y,u=fe(),0===(a=he(n=y,g.allowIn)))return u;for(n.prec=a,B(),t=[e,y],i=[u,n,s=fe()];(a=he(y,g.allowIn))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)s=i.pop(),o=i.pop().value,u=i.pop(),r=m.createBinaryExpression(o,u,s),t.pop(),e=t[t.length-1],m.markEnd(r,e),i.push(r);(n=B()).prec=a,i.push(n),t.push(y),r=fe(),i.push(r)}for(r=i[l=i.length-1],t.pop();l>1;)r=m.createBinaryExpression(i[l-1].value,i[l-2],r),l-=2,e=t.pop(),m.markEnd(r,e);return r}(),J("?")&&(B(),t=g.allowIn,g.allowIn=!0,r=de(),g.allowIn=t,X(":"),n=de(),e=m.createConditionalExpression(e,r,n),m.markEnd(e,a)),e}function de(){var e,r,n,i,o;return e=y,o=y,i=r=pe(),function(){var e;return y.type===t.Punctuator&&("="===(e=y.value)||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}()&&(ee(r)||H({},s.InvalidLHSInAssignment),c&&r.type===a.Identifier&&C(r.name)&&H(e,s.StrictLHSAssignment),e=B(),n=de(),i=m.markEnd(m.createAssignmentExpression(e.value,r,n),o)),i}function me(){var e,t=y;if(e=de(),J(",")){for(e=m.createSequenceExpression([e]);f<d&&J(",");)B(),e.expressions.push(de());m.markEnd(e,t)}return e}function ye(){var e,t;return t=y,X("{"),e=function(){for(var e,t=[];f<d&&!J("}")&&void 0!==(e=Ie());)t.push(e);return t}(),X("}"),m.markEnd(m.createBlockStatement(e),t)}function ge(){var e,r;return r=y,(e=B()).type!==t.Identifier&&$(e),m.markEnd(m.createIdentifier(e.value),r)}function ve(e){var t,r,n=null;return r=y,t=ge(),c&&C(t.name)&&H({},s.StrictVarName),"const"===e?(X("="),n=de()):J("=")&&(B(),n=de()),m.markEnd(m.createVariableDeclarator(t,n),r)}function be(e){var t=[];do{if(t.push(ve(e)),!J(","))break;B()}while(f<d);return t}function _e(){var e,t,r,n,a,i,o,u=g.allowIn;return e=t=r=null,Y("for"),X("("),J(";")?B():(Q("var")||Q("let")?(g.allowIn=!1,e=function(){var e,t,r;return r=y,e=B(),t=be(),m.markEnd(m.createVariableDeclaration(t,e.value),r)}(),g.allowIn=u,1===e.declarations.length&&Q("in")&&(B(),n=e,a=me(),e=null)):(g.allowIn=!1,e=me(),g.allowIn=u,Q("in")&&(ee(e)||H({},s.InvalidLHSInForIn),B(),n=e,a=me(),e=null)),void 0===n&&X(";")),void 0===n&&(J(";")||(t=me()),X(";"),J(")")||(r=me())),X(")"),o=g.inIteration,g.inIteration=!0,i=Se(),g.inIteration=o,void 0===n?m.createForStatement(e,t,r,i):m.createForInStatement(n,a,i)}function we(){var e,t,r,n=[];for(r=y,Q("default")?(B(),e=null):(Y("case"),e=me()),X(":");f<d&&!(J("}")||Q("default")||Q("case"));)t=Se(),n.push(t);return m.markEnd(m.createSwitchCase(e,n),r)}function ke(){var e,t=[],r=null;return Y("try"),e=ye(),Q("catch")&&t.push(function(){var e,t,r;return r=y,Y("catch"),X("("),J(")")&&$(y),e=ge(),c&&C(e.name)&&H({},s.StrictCatchVariable),X(")"),t=ye(),m.markEnd(m.createCatchClause(e,t),r)}()),Q("finally")&&(B(),r=ye()),0!==t.length||r||K({},s.NoCatchOrFinally),m.createTryStatement(e,[],t,r)}function Se(){var e,r,n,i,o=y.type;if(o===t.EOF&&$(y),o===t.Punctuator&&"{"===y.value)return ye();if(i=y,o===t.Punctuator)switch(y.value){case";":return m.markEnd((X(";"),m.createEmptyStatement()),i);case"(":return m.markEnd(function(){var e=me();return Z(),m.createExpressionStatement(e)}(),i)}if(o===t.Keyword)switch(y.value){case"break":return m.markEnd(function(){var e,r=null;return Y("break"),59===l.charCodeAt(f)?(B(),g.inIteration||g.inSwitch||K({},s.IllegalBreak),m.createBreakStatement(null)):G()?(g.inIteration||g.inSwitch||K({},s.IllegalBreak),m.createBreakStatement(null)):(y.type===t.Identifier&&(e="$"+(r=ge()).name,Object.prototype.hasOwnProperty.call(g.labelSet,e)||K({},s.UnknownLabel,r.name)),Z(),null!==r||g.inIteration||g.inSwitch||K({},s.IllegalBreak),m.createBreakStatement(r))}(),i);case"continue":return m.markEnd(function(){var e,r=null;return Y("continue"),59===l.charCodeAt(f)?(B(),g.inIteration||K({},s.IllegalContinue),m.createContinueStatement(null)):G()?(g.inIteration||K({},s.IllegalContinue),m.createContinueStatement(null)):(y.type===t.Identifier&&(e="$"+(r=ge()).name,Object.prototype.hasOwnProperty.call(g.labelSet,e)||K({},s.UnknownLabel,r.name)),Z(),null!==r||g.inIteration||K({},s.IllegalContinue),m.createContinueStatement(r))}(),i);case"debugger":return m.markEnd((Y("debugger"),Z(),m.createDebuggerStatement()),i);case"do":return m.markEnd(function(){var e,t,r;return Y("do"),r=g.inIteration,g.inIteration=!0,e=Se(),g.inIteration=r,Y("while"),X("("),t=me(),X(")"),J(";")&&B(),m.createDoWhileStatement(e,t)}(),i);case"for":return m.markEnd(_e(),i);case"function":return m.markEnd(Ae(),i);case"if":return m.markEnd(function(){var e,t,r;return Y("if"),X("("),e=me(),X(")"),t=Se(),Q("else")?(B(),r=Se()):r=null,m.createIfStatement(e,t,r)}(),i);case"return":return m.markEnd(function(){var e=null;return Y("return"),g.inFunctionBody||H({},s.IllegalReturn),32===l.charCodeAt(f)&&E(l.charCodeAt(f+1))?(e=me(),Z(),m.createReturnStatement(e)):G()?m.createReturnStatement(null):(J(";")||J("}")||y.type===t.EOF||(e=me()),Z(),m.createReturnStatement(e))}(),i);case"switch":return m.markEnd(function(){var e,t,r,n,a;if(Y("switch"),X("("),e=me(),X(")"),X("{"),t=[],J("}"))return B(),m.createSwitchStatement(e,t);for(n=g.inSwitch,g.inSwitch=!0,a=!1;f<d&&!J("}");)null===(r=we()).test&&(a&&K({},s.MultipleDefaultsInSwitch),a=!0),t.push(r);return g.inSwitch=n,X("}"),m.createSwitchStatement(e,t)}(),i);case"throw":return m.markEnd(function(){var e;return Y("throw"),G()&&K({},s.NewlineAfterThrow),e=me(),Z(),m.createThrowStatement(e)}(),i);case"try":return m.markEnd(ke(),i);case"var":return m.markEnd(function(){var e;return Y("var"),e=be(),Z(),m.createVariableDeclaration(e,"var")}(),i);case"while":return m.markEnd(function(){var e,t,r;return Y("while"),X("("),e=me(),X(")"),r=g.inIteration,g.inIteration=!0,t=Se(),g.inIteration=r,m.createWhileStatement(e,t)}(),i);case"with":return m.markEnd(function(){var e,t;return c&&(N(),H({},s.StrictModeWith)),Y("with"),X("("),e=me(),X(")"),t=Se(),m.createWithStatement(e,t)}(),i)}return(e=me()).type===a.Identifier&&J(":")?(B(),n="$"+e.name,Object.prototype.hasOwnProperty.call(g.labelSet,n)&&K({},s.Redeclaration,"Label",e.name),g.labelSet[n]=!0,r=Se(),delete g.labelSet[n],m.markEnd(m.createLabeledStatement(e,r),i)):(Z(),m.markEnd(m.createExpressionStatement(e),i))}function xe(){var e,r,n,i,o,u,h,p,v=[];for(p=y,X("{");f<d&&y.type===t.StringLiteral&&(r=y,e=Ie(),v.push(e),e.expression.type===a.Literal);)"use strict"===l.slice(r.start+1,r.end-1)?(c=!0,n&&H(n,s.StrictOctalLiteral)):!n&&r.octal&&(n=r);for(i=g.labelSet,o=g.inIteration,u=g.inSwitch,h=g.inFunctionBody,g.labelSet={},g.inIteration=!1,g.inSwitch=!1,g.inFunctionBody=!0;f<d&&!J("}")&&void 0!==(e=Ie());)v.push(e);return X("}"),g.labelSet=i,g.inIteration=o,g.inSwitch=u,g.inFunctionBody=h,m.markEnd(m.createBlockStatement(v),p)}function Ee(e){var t,r,n,a,i,o,u=[];if(X("("),!J(")"))for(a={};f<d&&(r=y,t=ge(),i="$"+r.value,c?(C(r.value)&&(n=r,o=s.StrictParamName),Object.prototype.hasOwnProperty.call(a,i)&&(n=r,o=s.StrictParamDupe)):e||(C(r.value)?(e=r,o=s.StrictParamName):I(r.value)?(e=r,o=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(a,i)&&(e=r,o=s.StrictParamDupe)),u.push(t),a[i]=!0,!J(")"));)X(",");return X(")"),{params:u,stricted:n,firstRestricted:e,message:o}}function Ae(){var e,t,r,n,a,i,o,u,l,f;return f=y,Y("function"),n=y,e=ge(),c?C(n.value)&&H(n,s.StrictFunctionName):C(n.value)?(o=n,u=s.StrictFunctionName):I(n.value)&&(o=n,u=s.StrictReservedWord),t=(i=Ee(o)).params,a=i.stricted,o=i.firstRestricted,i.message&&(u=i.message),l=c,r=xe(),c&&o&&K(o,u),c&&a&&H(a,u),c=l,m.markEnd(m.createFunctionDeclaration(e,t,[],r),f)}function Ie(){if(y.type===t.Keyword)switch(y.value){case"const":case"let":return function(e){var t,r;return r=y,Y(e),t=be(e),Z(),m.markEnd(m.createVariableDeclaration(t,e),r)}(y.value);case"function":return Ae();default:return Se()}if(y.type!==t.EOF)return Se()}function Ce(){var e,r;return N(),z(),r=y,c=!1,e=function(){for(var e,r,n,i=[];f<d&&(r=y).type===t.StringLiteral&&(e=Ie(),i.push(e),e.expression.type===a.Literal);)"use strict"===l.slice(r.start+1,r.end-1)?(c=!0,n&&H(n,s.StrictOctalLiteral)):!n&&r.octal&&(n=r);for(;f<d&&void 0!==(e=Ie());)i.push(e);return i}(),m.markEnd(m.createProgram(e),r)}function je(){var e,t,r,n=[];for(e=0;e<v.tokens.length;++e)r={type:(t=v.tokens[e]).type,value:t.value},v.range&&(r.range=t.range),v.loc&&(r.loc=t.loc),n.push(r);v.tokens=n}(r={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",r[t.EOF]="<end>",r[t.Identifier]="Identifier",r[t.Keyword]="Keyword",r[t.NullLiteral]="Null",r[t.NumericLiteral]="Numeric",r[t.Punctuator]="Punctuator",r[t.StringLiteral]="String",r[t.RegularExpression]="RegularExpression",n=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},i={Data:1,Get:2,Set:4},s={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},o={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},u={name:"SyntaxTree",processComment:function(e){var t,r;if(!(e.type===a.Program&&e.body.length>0)){for(v.trailingComments.length>0?v.trailingComments[0].range[0]>=e.range[1]?(r=v.trailingComments,v.trailingComments=[]):v.trailingComments.length=0:v.bottomRightStack.length>0&&v.bottomRightStack[v.bottomRightStack.length-1].trailingComments&&v.bottomRightStack[v.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(r=v.bottomRightStack[v.bottomRightStack.length-1].trailingComments,delete v.bottomRightStack[v.bottomRightStack.length-1].trailingComments);v.bottomRightStack.length>0&&v.bottomRightStack[v.bottomRightStack.length-1].range[0]>=e.range[0];)t=v.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):v.leadingComments.length>0&&v.leadingComments[v.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=v.leadingComments,v.leadingComments=[]),r&&(e.trailingComments=r),v.bottomRightStack.push(e)}},markEnd:function(e,t){return v.range&&(e.range=[t.start,f]),v.loc&&(e.loc=new function(e,t,r,n){this.start=new W(e,t),this.end=new W(r,n)}(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),h,f-p),this.postProcess(e)),v.attachComment&&this.processComment(e),e},postProcess:function(e){return v.source&&(e.loc.source=v.source),e},createArrayExpression:function(e){return{type:a.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,r){return{type:a.AssignmentExpression,operator:e,left:t,right:r}},createBinaryExpression:function(e,t,r){return{type:"||"===e||"&&"===e?a.LogicalExpression:a.BinaryExpression,operator:e,left:t,right:r}},createBlockStatement:function(e){return{type:a.BlockStatement,body:e}},createBreakStatement:function(e){return{type:a.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:a.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:a.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,r){return{type:a.ConditionalExpression,test:e,consequent:t,alternate:r}},createContinueStatement:function(e){return{type:a.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:a.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(e){return{type:a.ExpressionStatement,expression:e}},createForStatement:function(e,t,r,n){return{type:a.ForStatement,init:e,test:t,update:r,body:n}},createForInStatement:function(e,t,r){return{type:a.ForInStatement,left:e,right:t,body:r,each:!1}},createFunctionDeclaration:function(e,t,r,n){return{type:a.FunctionDeclaration,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,r,n){return{type:a.FunctionExpression,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:a.Identifier,name:e}},createIfStatement:function(e,t,r){return{type:a.IfStatement,test:e,consequent:t,alternate:r}},createLabeledStatement:function(e,t){return{type:a.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:a.Literal,value:e.value,raw:l.slice(e.start,e.end)}},createMemberExpression:function(e,t,r){return{type:a.MemberExpression,computed:"["===e,object:t,property:r}},createNewExpression:function(e,t){return{type:a.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:a.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:a.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:a.Program,body:e}},createProperty:function(e,t,r){return{type:a.Property,key:t,value:r,kind:e}},createReturnStatement:function(e){return{type:a.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:a.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:a.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:a.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(e){return{type:a.ThrowStatement,argument:e}},createTryStatement:function(e,t,r,n){return{type:a.TryStatement,block:e,guardedHandlers:t,handlers:r,finalizer:n}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:a.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:a.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:a.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:a.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:a.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:a.WithStatement,object:e,body:t}}},e.version="1.2.5",e.tokenize=function(e,r){var n,a;n=String,"string"==typeof e||e instanceof String||(e=n(e)),m=u,f=0,h=(l=e).length>0?1:0,p=0,d=l.length,y=null,g={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},v={},(r=r||{}).tokens=!0,v.tokens=[],v.tokenize=!0,v.openParenToken=-1,v.openCurlyToken=-1,v.range="boolean"==typeof r.range&&r.range,v.loc="boolean"==typeof r.loc&&r.loc,"boolean"==typeof r.comment&&r.comment&&(v.comments=[]),"boolean"==typeof r.tolerant&&r.tolerant&&(v.errors=[]);try{if(z(),y.type===t.EOF)return v.tokens;for(B();y.type!==t.EOF;)try{B()}catch(e){if(v.errors){v.errors.push(e);break}throw e}je(),a=v.tokens,void 0!==v.comments&&(a.comments=v.comments),void 0!==v.errors&&(a.errors=v.errors)}catch(e){throw e}finally{v={}}return a},e.parse=function(e,t){var r,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),m=u,f=0,h=(l=e).length>0?1:0,p=0,d=l.length,y=null,g={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},v={},void 0!==t&&(v.range="boolean"==typeof t.range&&t.range,v.loc="boolean"==typeof t.loc&&t.loc,v.attachComment="boolean"==typeof t.attachComment&&t.attachComment,v.loc&&null!==t.source&&void 0!==t.source&&(v.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(v.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(v.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(v.errors=[]),v.attachComment&&(v.range=!0,v.comments=[],v.bottomRightStack=[],v.trailingComments=[],v.leadingComments=[]));try{r=Ce(),void 0!==v.comments&&(r.comments=v.comments),void 0!==v.tokens&&(je(),r.tokens=v.tokens),void 0!==v.errors&&(r.errors=v.errors)}catch(e){throw e}finally{v={}}return r},e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),a)a.hasOwnProperty(e)&&(t[e]=a[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},function(e,t,r){"use strict";e.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,r,n){var a=0|t[n];if(a<=0)return[];var i,s=new Array(a);if(n===t.length-1)for(i=0;i<a;++i)s[i]=r;else for(i=0;i<a;++i)s[i]=e(t,r,n+1);return s}(e,t,0)}return[]}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,s,o,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(a(r))for(o=Array.prototype.slice.call(arguments,1),s=(l=r.slice()).length,u=0;u<s;u++)l[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var s;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(s=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},r.prototype.removeListener=function(e,t){var r,i,s,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(o=s;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";e.exports=function(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(0),a=r(17);e.exports=function(e,t){for(var r=[],i=e,s=1;Array.isArray(i);)r.push(i.length),s*=i.length,i=i[0];return 0===r.length?n():(t||(t=n(new Float64Array(s),r)),a(t,e),t)}},function(e,t,r){e.exports=r(2)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(e,t,r){"use strict";var n=r(12),a=r(1)({args:["array","scalar","index"],body:function(e,t,r){var n,a=t;for(n=0;n<r.length-1;++n)a=a[r[n]];a[r[r.length-1]]=e}});e.exports=function(e){var t=n(e.shape);return a(e,t),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=e.shape[0],i=(0,n.default)(new Float64Array(r*r),[r,r]),l=(0,n.default)(new Float64Array(r*r),[r,r]),c=void 0,f=void 0,h=1/0,p=Math.log(t),d=void 0,m=void 0,y=void 0,g=0;g<r;g++){c=1,f=-1/0,h=1/0;for(var v=0;v<100;v++){for(var b=0;b<r;b++)i.set(g,b,Math.exp(-e.get(g,b)*c));i.set(g,g,0),m=0;for(b=0;b<r;b++)m+=i.get(g,b);0==m&&(m=s),y=0;for(b=0;b<r;b++)i.set(g,b,i.get(g,b)/m),y+=e.get(g,b)*i.get(g,b);if(d=Math.log(m)+c*y-p,Math.abs(d)<=u)break;d>0?(f=c,h==1/0?c*=2:c=(c+h)/2):(h=c,f==-1/0?c/=2:c=(c+f)/2)}c}a.default.add(l,i,i.transpose(1,0));var _=Math.max(a.default.sum(l),o);return a.default.divseq(l,_),a.default.maxseq(l,o),l};var n=i(r(0)),a=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}var s=1e-7,o=Number.EPSILON||2.220446049250313e-16,u=1e-5;e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var i=e.shape[0],o=e.shape[1],c=(0,n.default)(new Float64Array(i*i),[i,i]),f=(0,s.default)(e,"euclidean");l(f);var h=(r+1)/-2;a.default.powseq(a.default.divseq(a.default.addseq(f,1),r),h);for(var p=0;p<i;p++)f.set(p,p,0);var d=Math.max(a.default.sum(f),u);a.default.divs(c,f,d),a.default.maxseq(c,u);var m=(0,n.default)(new Float64Array(i*i),[i,i]),y=(0,n.default)(new Float64Array(i*i),[i,i]);a.default.div(m,t,c),a.default.logeq(m),a.default.assign(y,t);var g=a.default.sum(a.default.muleq(m,y)),v=(0,n.default)(new Float64Array(e.size),e.shape),b=(0,n.default)(new Float64Array(i*i),[i,i]);a.default.sub(b,t,c),a.default.muleq(b,f);for(p=0;p<i;p++)for(var _=0;_<o;_++){var w=(0,n.default)(new Float64Array(e.shape[0]),[e.shape[0]]);a.default.assign(w,e.pick(null,_)),a.default.addseq(a.default.negeq(w),e.get(p,_)),a.default.muleq(w,b.pick(p,null)),v.set(p,_,a.default.sum(w))}var k=2*(r+1)/r;return a.default.mulseq(v,k),[g,v]};var n=o(r(0)),a=o(r(3)),i=o(r(1)),s=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var u=Number.EPSILON||2.220446049250313e-16,l=(0,i.default)({args:["array"],body:function(e){e*=e}});e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=new Float64Array(e*t),i=0;i<r.length;i++)r[i]=1e-4*a();return(0,n.default)(r,[e,t])};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function a(){var e=2*Math.random()-1,t=2*Math.random()-1,r=e*e+t*t;return 0==r||r>1?a():e*Math.sqrt(-2*Math.log(r)/r)}e.exports=t.default},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r}]);